(function(s,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.ToifeGesture={}))})(this,(function(s){"use strict";let o=[];const T=(n,t=!1)=>{if(o.length==0)return!0;if(t){let i=o[o.length-1];return n===i||i.contains(n)}for(let i of o)if(n===i||i.contains(n))return!0;return!1},G=n=>{o.push(n)},S=n=>{if(!n)o.pop();else{let t=o.indexOf(n);t>-1&&o.splice(t,1)}},j=()=>{o=[]},A=(n,t={})=>{let i,f,a;const d=t?.options?.minDist||0,O=t?.options?.maxDuration||280,w=t?.options?.minVelocity||.5,L=e=>{t?.beforeEvent&&!t.beforeEvent(e)||(i=e.clientX,f=e.clientY,a=performance.now(),t.down&&t.down({sx:i,sy:f,st:a,e}),t?.afterEvent&&t.afterEvent(e))},g=e=>{if(t?.beforeEvent&&!t.beforeEvent(e))return;const v=e.clientX-i,u=e.clientY-f,m=Math.abs(v),c=Math.abs(u);let r;(m>=0||c>=0)&&(m>c?r=v>0?"right":"left":r=u>0?"down":"up"),t.move&&t.move({d:r,ex:e.clientX,ey:e.clientY,e,sx:i,sy:f,dx:v,dy:u}),t?.afterEvent&&t.afterEvent(e)},M=e=>{if(t?.beforeEvent&&!t.beforeEvent(e))return;const v=e.clientX,u=e.clientY,m=performance.now(),c=v-i,r=u-f,l=m-a,p=Math.abs(c),E=Math.abs(r);if(t.fast&&l<=O&&(p>=d||E>=d)){const Y=p/l,D=E/l;if(Y>=w||D>=w){let y;p>E?y=c>0?"right":"left":y=r>0?"down":"up",t.fast({e,d:y,dx:c,dy:r,dt:l,vx:Y,vy:D}),t?.afterEvent&&t.afterEvent(e);return}}let b;(p>=0||E>=0)&&(p>E?b=c>0?"right":"left":b=r>0?"down":"up"),t.up&&t.up({d:b,e,ex:v,ey:u,sx:i,sy:f,dx:c,dy:r}),t?.afterEvent&&t.afterEvent(e)},X=e=>{t?.beforeEvent&&!t.beforeEvent(e)||(t.cancel&&t.cancel(),t?.afterEvent&&t.afterEvent(e))};return n.addEventListener("pointerdown",L),n.addEventListener("pointermove",g),n.addEventListener("pointerup",M),n.addEventListener("pointercancel",X),{destroy:()=>{n.removeEventListener("pointerdown",L),n.removeEventListener("pointermove",g),n.removeEventListener("pointerup",M),n.removeEventListener("pointercancel",X)},cancel:()=>{t.cancel&&t.cancel()}}};s.descope=S,s.descopeAll=j,s.gesture=A,s.isGesturable=T,s.scope=G,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})}));
