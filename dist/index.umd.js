(function(i,p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(i=typeof globalThis<"u"?globalThis:i||self,p(i.ToifeGesture={}))})(this,(function(i){"use strict";const p=(o,t={})=>{let s,c,b;const m=t?.options?.minMove||5,L=t?.options?.minDist||60,T=t?.options?.maxDuration||280,M=t?.options?.minVelocity||.5,d=e=>{e.target.setPointerCapture(e.pointerId),!(t?.beforeEvent&&!t.beforeEvent(e))&&(s=e.clientX,c=e.clientY,b=performance.now(),t.down&&t.down({sx:s,sy:c,st:b,e}),t?.afterEvent&&t.afterEvent(e))},X=e=>{if(t?.beforeEvent&&!t.beforeEvent(e))return;const f=e.clientX-s,v=e.clientY-c,a=Math.abs(f),r=Math.abs(v);let n;(a>=m||r>=m)&&(a>r?n=f>0?"right":"left":n=v>0?"down":"up"),t.move&&t.move({d:n,ex:e.clientX,ey:e.clientY,e,sx:s,sy:c,dx:f,dy:v}),t?.afterEvent&&t.afterEvent(e)},Y=e=>{if(e.target.releasePointerCapture(e.pointerId),t?.beforeEvent&&!t.beforeEvent(e))return;const f=e.clientX,v=e.clientY,a=performance.now(),r=f-s,n=v-c,y=a-b,u=Math.abs(r),E=Math.abs(n);if(t.fast&&y<=T&&(u>=L||E>=L)){const C=u/y,P=E/y;if(C>=M||P>=M){let w;u>E?w=r>0?"right":"left":w=n>0?"down":"up",t.fast({e,d:w,dx:r,dy:n,dt:y,vx:C,vy:P}),t?.afterEvent&&t.afterEvent(e);return}}let g;(u>=m||E>=m)&&(u>E?g=r>0?"right":"left":g=n>0?"down":"up"),t.up&&t.up({d:g,e,ex:f,ey:v,sx:s,sy:c,dx:r,dy:n}),t?.afterEvent&&t.afterEvent(e)},D=e=>{e.target.releasePointerCapture(e.pointerId),!(t?.beforeEvent&&!t.beforeEvent(e))&&(t.cancel&&t.cancel(),t?.afterEvent&&t.afterEvent(e))};return o.addEventListener("pointerdown",d),o.addEventListener("pointermove",X),o.addEventListener("pointerup",Y),o.addEventListener("pointercancel",D),{destroy:()=>{o.removeEventListener("pointerdown",d),o.removeEventListener("pointermove",X),o.removeEventListener("pointerup",Y),o.removeEventListener("pointercancel",D)},cancel:()=>{t.cancel&&t.cancel()}}};i.gesture=p,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
