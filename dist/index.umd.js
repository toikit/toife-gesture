(function(o,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.ToifeGesture={}))})(this,(function(o){"use strict";let r=null;const E=n=>r?n.target===r||r.contains(n.target):!0,T=n=>{r=n},G=()=>{r=null},j=(n,t={})=>{let c,f,b;const g=t?.options?.minDist||0,S=t?.options?.maxDuration||280,L=t?.options?.minVelocity||.5,d=e=>{E(e)&&(t?.beforeEvent&&!t.beforeEvent(e)||(c=e.clientX,f=e.clientY,b=performance.now(),t.down&&t.down({sx:c,sy:f,st:b,e}),t?.afterEvent&&t.afterEvent(e)))},M=e=>{if(!E(e)||t?.beforeEvent&&!t.beforeEvent(e))return;const u=e.clientX-c,v=e.clientY-f,a=Math.abs(u),s=Math.abs(v);let i;(a>=0||s>=0)&&(a>s?i=u>0?"right":"left":i=v>0?"down":"up"),t.move&&t.move({d:i,ex:e.clientX,ey:e.clientY,e,sx:c,sy:f,dx:u,dy:v}),t?.afterEvent&&t.afterEvent(e)},X=e=>{if(!E(e)||t?.beforeEvent&&!t.beforeEvent(e))return;const u=e.clientX,v=e.clientY,a=performance.now(),s=u-c,i=v-f,l=a-b,p=Math.abs(s),m=Math.abs(i);if(t.fast&&l<=S&&(p>=g||m>=g)){const k=p/l,D=m/l;if(k>=L||D>=L){let w;p>m?w=s>0?"right":"left":w=i>0?"down":"up",t.fast({e,d:w,dx:s,dy:i,dt:l,vx:k,vy:D}),t?.afterEvent&&t.afterEvent(e);return}}let y;(p>=0||m>=0)&&(p>m?y=s>0?"right":"left":y=i>0?"down":"up"),t.up&&t.up({d:y,e,ex:u,ey:v,sx:c,sy:f,dx:s,dy:i}),t?.afterEvent&&t.afterEvent(e)},Y=e=>{E(e)&&(t?.beforeEvent&&!t.beforeEvent(e)||(t.cancel&&t.cancel(),t?.afterEvent&&t.afterEvent(e)))};return n.addEventListener("pointerdown",d),n.addEventListener("pointermove",M),n.addEventListener("pointerup",X),n.addEventListener("pointercancel",Y),{destroy:()=>{n.removeEventListener("pointerdown",d),n.removeEventListener("pointermove",M),n.removeEventListener("pointerup",X),n.removeEventListener("pointercancel",Y)},cancel:()=>{t.cancel&&t.cancel()}}};o.gesture=j,o.isGesturable=E,o.lock=T,o.unlock=G,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
