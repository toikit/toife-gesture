(function(r,p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):(r=typeof globalThis<"u"?globalThis:r||self,p(r.ToifeGesture={}))})(this,(function(r){"use strict";const p=(o,t={})=>{let s,c,a;const m=t?.options?.minMove||5,M=t?.options?.minDist||60,j=t?.options?.maxDuration||280,g=t?.options?.minVelocity||.5,X=e=>{t?.beforeEvent&&!t.beforeEvent(e)||(s=e.clientX,c=e.clientY,a=performance.now(),t.down&&t.down({sx:s,sy:c,st:a,e}),t?.afterEvent&&t.afterEvent(e))},Y=e=>{if(t?.beforeEvent&&!t.beforeEvent(e))return;const f=e.clientX-s,v=e.clientY-c,y=Math.abs(f),i=Math.abs(v);let n;(y>=m||i>=m)&&(y>i?n=f>0?"right":"left":n=v>0?"down":"up"),t.move&&t.move({d:n,ex:e.clientX,ey:e.clientY,e,sx:s,sy:c,dx:f,dy:v}),t?.afterEvent&&t.afterEvent(e)},D=e=>{if(t?.beforeEvent&&!t.beforeEvent(e))return;const f=e.clientX,v=e.clientY,y=performance.now(),i=f-s,n=v-c,b=y-a,u=Math.abs(i),E=Math.abs(n);if(t.fast&&b<=j&&(u>=M||E>=M)){const T=u/b,x=E/b;if(T>=g||x>=g){let L;u>E?L=i>0?"right":"left":L=n>0?"down":"up",t.fast({e,d:L,dx:i,dy:n,dt:b,vx:T,vy:x}),t?.afterEvent&&t.afterEvent(e);return}}let w;(u>=m||E>=m)&&(u>E?w=i>0?"right":"left":w=n>0?"down":"up"),t.up&&t.up({d:w,e,ex:f,ey:v,sx:s,sy:c,dx:i,dy:n}),t?.afterEvent&&t.afterEvent(e)},d=e=>{t?.beforeEvent&&!t.beforeEvent(e)||(t.cancel&&t.cancel(),t?.afterEvent&&t.afterEvent(e))};return o.addEventListener("pointerdown",X),o.addEventListener("pointermove",Y),o.addEventListener("pointerup",D),o.addEventListener("pointercancel",d),{destroy:()=>{o.removeEventListener("pointerdown",X),o.removeEventListener("pointermove",Y),o.removeEventListener("pointerup",D),o.removeEventListener("pointercancel",d)},cancel:()=>{t.cancel&&t.cancel()}}};r.gesture=p,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
